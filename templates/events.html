{% extends 'base.html' %}

{% block title %}События{% endblock %}

{% block styles %}
  <style>
    /* Добавлены стили для разделения событий по ролям */
    .volunteer-events {
      display: none;
    }
    .finder-events {
      display: none;
    }
  </style>
{% endblock %}

{% block content %}
    <h2>События</h2>

    <!-- Добавлены вкладки для событий волонтеров и поисковиков -->
    <ul class="nav nav-tabs" id="myTabs">
        <li class="nav-item">
            <a class="nav-link active" id="all-events-tab" data-bs-toggle="tab" href="#all-events">Все события</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="volunteer-events-tab" data-bs-toggle="tab" href="#volunteer_events">События для волонтеров</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="finder-events-tab" data-bs-toggle="tab" href="#finder_events">События для поисковиков</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade show active" id="all-events">
            <!-- Вставлен код для отображения всех мероприятий -->
            <h3>Все мероприятия:</h3>
            <table class="table">
                <!-- ... (остальной код) ... -->
            </table>

            <!-- Добавлена форма для создания мероприятия -->
            <h3>Создать новое мероприятие:</h3>
            <form method="POST" action="{{ url_for('events') }}">
                {{ form.csrf_token }}
                <div class="form-group">
                    {{ form.event_name.label }}
                    {{ form.event_name(class="form-control") }}
                </div>
                <div class="form-group">
                    {{ form.event_date.label }}
                    {{ form.event_date(class="form-control") }}
                </div>
                <div class="form-group">
                    {{ form.role.label }}
                    {{ form.role(class="form-control") }}
                </div>
                <button type="submit" class="btn btn-primary">Создать</button>
            </form>
        </div>
        <div class="tab-pane fade" id="volunteer_events">
            <!-- Вставлен код для отображения мероприятий волонтеров -->
            {% include 'volunteer_events.html' %}
        </div>
        <div class="tab-pane fade" id="finder_events">
            <!-- Вставлен код для отображения мероприятий поисковиков -->
            {% include 'finder_events.html' %}
        </div>
    </div>
{% endblock %}
