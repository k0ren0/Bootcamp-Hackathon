{% extends 'base.html' %}

{% block title %}Events{% endblock %}

{% block styles %}
  <style>
    /* Styles added to differentiate events by roles */
    .volunteer-events {
      display: none;
    }
    .finder-events {
      display: none;
    }
  </style>
{% endblock %}

{% block content %}
    <h2>Events</h2>

    <!-- Tabs added for volunteer and finder events -->
    <ul class="nav nav-tabs" id="myTabs">
        <li class="nav-item">
            <a class="nav-link active" id="all-events-tab" data-bs-toggle="tab" href="#all-events">All Events</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="volunteer-events-tab" data-bs-toggle="tab" href="#volunteer_events">Volunteer Events</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="finder-events-tab" data-bs-toggle="tab" href="#finder_events">Finder Events</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade show active" id="all-events">
            <!-- Inserted code to display all events -->
            <h3>All Events:</h3>
            <table class="table">
                <!-- ... (remaining code) ... -->
            </table>

            <!-- Added form for creating an event -->
            <h3>Create a New Event:</h3>
            <form method="POST" action="{{ url_for('events') }}">
                {{ form.csrf_token }}
                <div class="form-group">
                    {{ form.event_name.label }}
                    {{ form.event_name(class="form-control") }}
                </div>
                <div class="form-group">
                    {{ form.event_date.label }}
                    {{ form.event_date(class="form-control") }}
                </div>
                <div class="form-group">
                    {{ form.role.label }}
                    {{ form.role(class="form-control") }}
                </div>
                <button type="submit" class="btn btn-primary">Create</button>
            </form>
        </div>
        <div class="tab-pane fade" id="volunteer_events">
            <!-- Inserted code to display volunteer events -->
            {% include 'volunteer_events.html' %}
        </div>
        <div class="tab-pane fade" id="finder_events">
            <!-- Inserted code to display finder events -->
            {% include 'finder_events.html' %}
        </div>
    </div>
{% endblock %}
